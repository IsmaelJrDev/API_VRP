<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>VRP - Rutas Óptimas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-5">
    <h2 class="mb-4">Optimización de Rutas (VRP)</h2>

    <form method="POST" class="row g-3 bg-white p-4 rounded shadow-sm">
        <div class="col-md-6">
            <label class="form-label">Ciudad de Origen</label>
            <select name="ciudad_origen" class="form-select" required>
                {% for ciudad in ciudades %}
                    <option value="{{ ciudad }}">{{ ciudad }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6">
            <label class="form-label">Ciudad de Destino</label>
            <select name="ciudad_destino" class="form-select" required>
                {% for ciudad in ciudades %}
                    <option value="{{ ciudad }}">{{ ciudad }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-4">
            <label class="form-label">Máx. paquetes</label>
            <input type="number" name="max_carga" class="form-control" required>
        </div>
        <div class="col-md-4">
            <label class="form-label">Máx. distancia</label>
            <input type="number" step="0.1" name="max_distancia" class="form-control" required>
        </div>
        <div class="col-md-4">
            <label class="form-label">Máx. gasolina (L)</label>
            <input type="number" step="0.1" name="max_gasolina" class="form-control" required>
        </div>
        <div class="col-md-6">
            <label class="form-label">Máx. volumen (m³)</label>
            <input type="number" step="0.1" name="max_volumen" class="form-control" required>
        </div>
        <div class="col-12">
            <button class="btn btn-primary">Calcular Rutas</button>
        </div>
    </form>

    {% if error %}
        <div class="alert alert-danger mt-4">{{ error }}</div>
    {% endif %}

    {% if rutas_info %}
        <h4 class="mt-5">Rutas Generadas</h4>
        <ul class="list-group mt-3">
            {% for ruta in rutas_info %}
                <li class="list-group-item">
                    <strong>Ruta:</strong> {{ ruta.ruta }} <br>
                    <strong>Peso:</strong> {{ ruta.peso_total }} paquetes |
                    <strong>Distancia:</strong> {{ ruta.distancia_total }} km |
                    <strong>Gasolina:</strong> {{ ruta.gasolina_total }} L |
                    <strong>Volumen:</strong> {{ ruta.volumen_total }} m³
                </li>
            {% endfor %}
        </ul>
    {% endif %}
</div>
</body>
</html>
